<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org"
                   xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <!-- CSS only -->
	 <link th:href="@{/css/bootstrap.css}" rel="stylesheet" >
	 <link th:href="@{/css/new.css}" rel="stylesheet" >
    <title>Login</title>
</head>
<body class="d-flex">

	<div th:fragment="logout" class="logout" sec:authorize="isAuthenticated()">		
		<p>Usuário Logado: <span sec:authentication="name"></span></p>
		<p>Papéis: <span sec:authentication="principal.authorities"></span></p>
		<p sec:authorize="hasRole('ROLE_ADMIN')">Se você está vendo isso é porque você é um ADMIN.</p>
		<p sec:authorize="hasRole('ROLE_USUARIO')">Se você está vendo isso é porque você é um USUARIO.</p>	
		<div>
			<form action="#" th:action="@{/logout}" method="post">					
				<input type="submit" value="Logout" />
			</form>
		</div>
	</div>
	<br>
	
	
	<div class="position-absolute top-50 start-50 translate-middle p-5 cinzaescuro border-rounded">
		
		
				<form th:action="@{/login}" method="post" class="d-flex flex-column p3">
				<img class="img-fluid m-4" th:src="@{/images/image1.png}" height="auto" width="256"/>
			
				<input type="text" id="username" name="username" autofocus="autofocus" placeholder="Usuario" class="mb-4">
			
			
				<input type="password" id="password" name="password" placeholder="Senha" class="mb-4">
			
			<input type="submit" value="Logar" class="btn btn-primary"/>
			<span th:if="${param.error}" class="text-danger">Usuário e/ou senha inválidos.</span>
			<p th:if="${param.logout}" class="text-warning">Você foi deslogado.</p>
			</form>
		
	</div>
</body>
</html>